{% extends "columned.html" %}
{% import "macros.html" as macros %}

{% block head_custom %}
    {{ macros.sjiax_scripts(form_init_js) }}
{% endblock %}

{% block central_column %}
    {% if main_topic.description %}
        <div class="jumbotron">
            <p>{{ main_topic.description }}</p>
        </div>
    {% endif %}
    {{ macros.post_modal_script() }}
    {{ macros.post_modal(submit_post_form, current_user) }}
    {{ macros.new_post_panel(current_user) }}
    <div id="post-container">
    {% for post in posts %}
        {{ macros.render_post(post, current_user) }}
    {% endfor %}
    </div>
{% endblock %}

{% block side_column %}
    {{ macros.topics_widget(topics, main_topic) }}
{% endblock %}