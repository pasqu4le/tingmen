{% extends "columned.html" %}
{% import "macros.html" as macros %}

{% block head_custom %}
    {{ macros.sjiax_scripts(form_init_js) }}
{% endblock %}

{% block central_column %}
    {{ macros.post_modal_script() }}
    {{ macros.post_modal(submit_post_form, current_user) }}
    {{ macros.new_post_panel(current_user) }}
    {% if subpage == 'post' %}
        <div id="post-container">
        {% for post in posts %}
            {{ macros.render_post(post, current_user) }}
        {% endfor %}
        </div>
    {% endif %}
    {% if subpage == 'upvotes' %}
        <div id="post-container">
        {% for post in upvotes %}
            {{ macros.render_post(post, current_user) }}
        {% endfor %}
        </div>
    {% endif %}
    {% if subpage == 'downvotes' %}
        <div id="post-container">
        {% for post in downvotes %}
            {{ macros.render_post(post, current_user) }}
        {% endfor %}
        </div>
    {% endif %}
{% endblock %}

{% block side_column %}
    {{ macros.user_widget(subpage, subpages, user) }}
{% endblock %}